
        // Check User-Agent first (스크립트/브라우저 공격 차단)
        const userAgent = req.headers['user-agent'] || '';
        const uaValidation = isValidReactNativeApp(userAgent);
        
        logger.info('User-Agent : ' + userAgent);
        logger.info('Platform : ' + uaValidation.platform + ' | Valid : ' + uaValidation.isValid);
        
        if (!uaValidation.isValid) {
            logger.warn('비정상 접근 차단 : ' + uaValidation.reason);
            console.log('Suspicious User-Agent blocked:', userAgent);
            console.log('Reason:', uaValidation.reason);
            
            const rtnValue = {
                result: 'fail',
                info: 'fail',
            };
            
            res.send(rtnValue);
            
            if(conn != null)
                conn.release();
            
            logger.info('처리결과  : User-Agent validation failed');
            logger.info('===================================================');
            logger.info('');
            
            return;
        }
