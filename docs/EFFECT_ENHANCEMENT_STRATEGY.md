# ğŸ¨ íŠ¹ìˆ˜íš¨ê³¼ ê³ ë„í™” ì™„ë²½ ì „ëµ

> **"ê¸°ì¡´ ë¡œì§ ì•ˆì „ì„± + ì•„ì½”ë””ì–¸ UI + ì‹ ê·œ í…ìŠ¤íŠ¸ íš¨ê³¼"**  
> â€” ANIMA Effect Enhancement Strategy

---

## ğŸ“‹ ëª©ì°¨

1. [ğŸ¯ 3ëŒ€ í•µì‹¬ ëª©í‘œ](#-3ëŒ€-í•µì‹¬-ëª©í‘œ)
2. [âœ… í˜„ì¬ íš¨ê³¼ ì„ íƒ UI ë¶„ì„](#-í˜„ì¬-íš¨ê³¼-ì„ íƒ-ui-ë¶„ì„)
3. [ğŸ¨ ì•„ì½”ë””ì–¸ UI ì„¤ê³„](#-ì•„ì½”ë””ì–¸-ui-ì„¤ê³„)
4. [âœ¨ ì‹ ê·œ í…ìŠ¤íŠ¸ íš¨ê³¼ 10ì¢…](#-ì‹ ê·œ-í…ìŠ¤íŠ¸-íš¨ê³¼-10ì¢…)
5. [ğŸŒ í¬ë¡œìŠ¤ í”Œë«í¼ ë™ê¸°í™”](#-í¬ë¡œìŠ¤-í”Œë«í¼-ë™ê¸°í™”)
6. [ğŸ¬ ë‹¨ê³„ë³„ êµ¬í˜„ ë¡œë“œë§µ](#-ë‹¨ê³„ë³„-êµ¬í˜„-ë¡œë“œë§µ)
7. [âš ï¸ ìœ„í—˜ ìš”ì†Œ & ì™„í™” ì „ëµ](#ï¸-ìœ„í—˜-ìš”ì†Œ--ì™„í™”-ì „ëµ)

---

## ğŸ¯ 3ëŒ€ í•µì‹¬ ëª©í‘œ

### 1. ê¸°ì¡´ ë¡œì§ ì•ˆì „ì„± ìœ ì§€ ğŸ›¡ï¸

**ì›ì¹™**:
- âœ… ê¸°ì¡´ 4ì¢… í…ìŠ¤íŠ¸ ì• ë‹ˆë©”ì´ì…˜ ìœ ì§€
- âœ… ê¸°ì¡´ 8ì¢… íŒŒí‹°í´ íš¨ê³¼ ìœ ì§€
- âœ… ê²€ì¦ëœ ì½”ë“œëŠ” ì ˆëŒ€ ì‚­ì œí•˜ì§€ ì•ŠìŒ
- âœ… ì‹ ê·œ íš¨ê³¼ëŠ” ì¶”ê°€ë§Œ (êµì²´ ì—†ìŒ)

**ì „ëµ**:
```javascript
// ê¸°ì¡´ íš¨ê³¼ (ì ˆëŒ€ ë³€ê²½ ê¸ˆì§€!)
const EXISTING_TEXT_ANIMATIONS = [
  'fade_in',      // âœ… ê²€ì¦ ì™„ë£Œ
  'typing',       // âœ… ê²€ì¦ ì™„ë£Œ
  'scale_in',     // âœ… ê²€ì¦ ì™„ë£Œ
  'slide_cross',  // âœ… ê²€ì¦ ì™„ë£Œ
];

// ì‹ ê·œ íš¨ê³¼ (ì¶”ê°€ë§Œ!)
const NEW_TEXT_ANIMATIONS = [
  'wave',         // ğŸ†• ë¬¼ê²°
  'breath',       // ğŸ†• í˜¸í¡
  'split',        // ğŸ†• ë¶„í• 
  'blur_focus',   // ğŸ†• ë¸”ëŸ¬ í¬ì»¤ìŠ¤
  'glow_pulse',   // ğŸ†• ê¸€ë¡œìš° í„ìŠ¤
  // ... ì¶”ê°€
];

// í†µí•©
const ALL_TEXT_ANIMATIONS = [
  ...EXISTING_TEXT_ANIMATIONS,
  ...NEW_TEXT_ANIMATIONS,
];
```

---

### 2. ì•„ì½”ë””ì–¸ UI ê³ ë„í™” ğŸ¨

**í˜„ì¬ ë¬¸ì œì **:
- âŒ ë‹¨ìˆœ ë‚˜ì—´ (4 + 8 = 12ê°œ íš¨ê³¼)
- âŒ ìŠ¤í¬ë¡¤ í•„ìš”
- âŒ ì‹œê°ì  í˜¼ë€
- âŒ ì„ íƒ ì–´ë ¤ì›€

**ê°œì„  ëª©í‘œ**:
- âœ… ì¹´í…Œê³ ë¦¬ë³„ ê·¸ë£¹í™”
- âœ… ì ‘ê³  í¼ì¹˜ê¸° (ì•„ì½”ë””ì–¸)
- âœ… ì‹œê°ì  ê³„ì¸µ êµ¬ì¡°
- âœ… ë¹ ë¥¸ ì„ íƒ

---

### 3. ì‹ ê·œ í…ìŠ¤íŠ¸ íš¨ê³¼ ì¶”ê°€ âœ¨

**ëª©í‘œ**:
- 10ì¢… ì‹ ê·œ í…ìŠ¤íŠ¸ íš¨ê³¼
- ê°ì„±ì ì´ê³  ë…íŠ¹í•œ íš¨ê³¼
- Mobile & Web 100% ë™ê¸°í™”

---

## âœ… í˜„ì¬ íš¨ê³¼ ì„ íƒ UI ë¶„ì„

### ğŸ“± MessagePreviewOverlay.js

**í˜„ì¬ êµ¬ì¡°**:
```javascript
// 1. Quick Action Chips (ìš°ì¸¡)
<View style={styles.quickActionChips}>
  <TouchableOpacity onPress={handleTextAnimationChipPress}>
    <Icon name="format-text" />
  </TouchableOpacity>
  <TouchableOpacity onPress={handleParticleEffectChipPress}>
    <Icon name="shimmer" />
  </TouchableOpacity>
  <TouchableOpacity onPress={handleBgMusicChipPress}>
    <Icon name="music" />
  </TouchableOpacity>
</View>

// 2. Selection Panel (í•˜ë‹¨ ìŠ¬ë¼ì´ë“œì—…)
{showSelectionPanel && (
  <Animated.View style={[styles.selectionPanel, selectionPanelAnimatedStyle]}>
    <ScrollView>
      {getCurrentOptions().map(option => (
        <TouchableOpacity
          key={option.id}
          onPress={() => handleOptionSelect(option.id)}
        >
          <Icon name={option.icon} />
          <CustomText>{option.label}</CustomText>
        </TouchableOpacity>
      ))}
    </ScrollView>
  </Animated.View>
)}
```

**ë¬¸ì œì **:
1. âŒ ëª¨ë“  ì˜µì…˜ì´ í‰ë©´ì ìœ¼ë¡œ ë‚˜ì—´
2. âŒ ì¹´í…Œê³ ë¦¬ êµ¬ë¶„ ì—†ìŒ
3. âŒ 12ê°œ ì˜µì…˜ â†’ ìŠ¤í¬ë¡¤ í•„ìˆ˜
4. âŒ ì‹œê°ì  í˜¼ë€

---

## ğŸ¨ ì•„ì½”ë””ì–¸ UI ì„¤ê³„

### ë””ìì¸ ì»¨ì…‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  íš¨ê³¼ ì„ íƒ                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â–¼ í…ìŠ¤íŠ¸ ì• ë‹ˆë©”ì´ì…˜ (4ì¢…)              â”‚  â† í¼ì¹¨
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚    â”‚ ğŸ’« Fade In         [ì„ íƒë¨]   â”‚   â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚    â”‚ âŒ¨ï¸ Typing                     â”‚   â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚    â”‚ ğŸ“ Scale In                   â”‚   â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚    â”‚ â†”ï¸ Slide Cross                â”‚   â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                         â”‚
â”‚  â–¶ íŒŒí‹°í´ íš¨ê³¼ (8ì¢…)                    â”‚  â† ì ‘í˜
â”‚                                         â”‚
â”‚  â–¶ ë°°ê²½ ìŒì› (10ì¢…+)                    â”‚  â† ì ‘í˜
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### êµ¬í˜„ ì „ëµ

#### 1ï¸âƒ£ ê·¸ë£¹ ì •ì˜

```javascript
const EFFECT_GROUPS = [
  {
    id: 'text_animation',
    title: t('effects.group.text_animation', 'í…ìŠ¤íŠ¸ ì• ë‹ˆë©”ì´ì…˜'),
    icon: 'format-text',
    emoji: 'ğŸ’«',
    description: t('effects.group.text_animation_desc', 'ë©”ì‹œì§€ê°€ ë‚˜íƒ€ë‚˜ëŠ” ë°©ì‹'),
    defaultOpen: true, // ê¸°ë³¸ í¼ì¹¨
    items: [
      { 
        id: 'fade_in', 
        label: t('effects.text.fade_in', 'Fade In'), 
        emoji: 'ğŸ’«',
        description: 'ë¶€ë“œëŸ½ê²Œ ë‚˜íƒ€ë‚¨',
        mood: 'gentle',
      },
      { 
        id: 'typing', 
        label: t('effects.text.typing', 'Typing'), 
        emoji: 'âŒ¨ï¸',
        description: 'íƒ€ì´í•‘í•˜ë“¯ ë“±ì¥',
        mood: 'dynamic',
      },
      { 
        id: 'scale_in', 
        label: t('effects.text.scale_in', 'Scale In'), 
        emoji: 'ğŸ“',
        description: 'ì‘ê²Œ ì‹œì‘í•´ì„œ í¬ê²Œ',
        mood: 'impactful',
      },
      { 
        id: 'slide_cross', 
        label: t('effects.text.slide_cross', 'Slide Cross'), 
        emoji: 'â†”ï¸',
        description: 'ì œëª© ì¢Œâ†’ìš°, ë‚´ìš© ìš°â†’ì¢Œ',
        mood: 'playful',
      },
    ],
  },
  {
    id: 'particle_effect',
    title: t('effects.group.particle_effect', 'íŒŒí‹°í´ íš¨ê³¼'),
    icon: 'shimmer',
    emoji: 'âœ¨',
    description: t('effects.group.particle_effect_desc', 'ë°°ê²½ì— ë‚˜íƒ€ë‚˜ëŠ” íš¨ê³¼'),
    defaultOpen: false, // ê¸°ë³¸ ì ‘í˜
    items: [
      { 
        id: 'none', 
        label: t('effects.particle.none', 'None'), 
        emoji: 'ğŸš«',
        description: 'íš¨ê³¼ ì—†ìŒ',
        mood: 'minimal',
      },
      { 
        id: 'confetti', 
        label: t('effects.particle.confetti', 'Confetti'), 
        emoji: 'ğŸ‰',
        description: 'ì¶•í•˜ ìƒ‰ì¢…ì´',
        mood: 'celebration',
      },
      { 
        id: 'hearts', 
        label: t('effects.particle.hearts', 'Hearts'), 
        emoji: 'ğŸ’•',
        description: 'í•˜íŠ¸ê°€ ë–¨ì–´ì§',
        mood: 'romantic',
      },
      { 
        id: 'snow', 
        label: t('effects.particle.snow', 'Snow'), 
        emoji: 'â„ï¸',
        description: 'ëˆˆì´ ë‚´ë¦¼',
        mood: 'winter',
      },
      { 
        id: 'sparkles', 
        label: t('effects.particle.sparkles', 'Sparkles'), 
        emoji: 'âœ¨',
        description: 'ë°˜ì§ì„',
        mood: 'joyful',
      },
      { 
        id: 'comfort_light', 
        label: t('effects.particle.comfort_light', 'Comfort'), 
        emoji: 'ğŸ•¯ï¸',
        description: 'ìœ„ë¡œì˜ ë¹›',
        mood: 'comforting',
      },
      { 
        id: 'hope_star', 
        label: t('effects.particle.hope_star', 'Hope'), 
        emoji: 'â­',
        description: 'í¬ë§ì˜ ë³„',
        mood: 'hopeful',
      },
      { 
        id: 'rain_soft', 
        label: t('effects.particle.rain_soft', 'Rain'), 
        emoji: 'ğŸŒ§ï¸',
        description: 'ë¶€ë“œëŸ¬ìš´ ë¹„',
        mood: 'melancholic',
      },
    ],
  },
  {
    id: 'bg_music',
    title: t('effects.group.bg_music', 'ë°°ê²½ ìŒì›'),
    icon: 'music',
    emoji: 'ğŸµ',
    description: t('effects.group.bg_music_desc', 'ë©”ì‹œì§€ì™€ í•¨ê»˜ ì¬ìƒë  ìŒì•…'),
    defaultOpen: false, // ê¸°ë³¸ ì ‘í˜
    items: [
      // MusicSelectionOverlayë¡œ ì—°ê²°
    ],
  },
];
```

#### 2ï¸âƒ£ ì•„ì½”ë””ì–¸ ì»´í¬ë„ŒíŠ¸

```javascript
/**
 * EffectAccordionGroup Component
 * 
 * Single accordion group with expand/collapse
 */
const EffectAccordionGroup = ({ 
  group, 
  isOpen, 
  onToggle, 
  selectedValue,
  onSelect,
}) => {
  const { theme } = useTheme();
  const rotateAnim = useSharedValue(isOpen ? 180 : 0);
  const heightAnim = useSharedValue(isOpen ? 1 : 0);

  useEffect(() => {
    rotateAnim.value = withTiming(isOpen ? 180 : 0, { duration: 300 });
    heightAnim.value = withTiming(isOpen ? 1 : 0, { duration: 300 });
  }, [isOpen]);

  const chevronStyle = useAnimatedStyle(() => ({
    transform: [{ rotate: `${rotateAnim.value}deg` }],
  }));

  const contentStyle = useAnimatedStyle(() => ({
    opacity: heightAnim.value,
    maxHeight: heightAnim.value * 1000, // ì¶©ë¶„íˆ í° ê°’
  }));

  return (
    <View style={styles.accordionGroup}>
      {/* Header (í´ë¦­í•˜ë©´ í¼ì¹¨/ì ‘í˜) */}
      <TouchableOpacity
        style={[styles.accordionHeader, { backgroundColor: theme.cardBackground }]}
        onPress={onToggle}
        activeOpacity={0.7}
      >
        <View style={styles.accordionHeaderLeft}>
          <CustomText type="big" style={styles.accordionEmoji}>
            {group.emoji}
          </CustomText>
          <View>
            <CustomText type="normal" bold style={{ color: theme.textPrimary }}>
              {group.title}
            </CustomText>
            <CustomText type="small" style={{ color: theme.textSecondary }}>
              {group.description}
            </CustomText>
          </View>
        </View>
        <Animated.View style={chevronStyle}>
          <Icon name="chevron-down" size={24} color={theme.textTertiary} />
        </Animated.View>
      </TouchableOpacity>

      {/* Content (í¼ì³ì¡Œì„ ë•Œë§Œ í‘œì‹œ) */}
      <Animated.View style={[styles.accordionContent, contentStyle]}>
        {group.items.map((item) => (
          <TouchableOpacity
            key={item.id}
            style={[
              styles.effectOption,
              { backgroundColor: theme.bgSecondary },
              selectedValue === item.id && styles.effectOptionSelected,
              selectedValue === item.id && { borderColor: theme.mainColor },
            ]}
            onPress={() => onSelect(item.id)}
            activeOpacity={0.7}
          >
            {/* Left: Emoji + Info */}
            <View style={styles.effectOptionLeft}>
              <CustomText type="big" style={styles.effectEmoji}>
                {item.emoji}
              </CustomText>
              <View style={styles.effectInfo}>
                <CustomText type="normal" bold style={{ color: theme.textPrimary }}>
                  {item.label}
                </CustomText>
                <CustomText type="small" style={{ color: theme.textSecondary }}>
                  {item.description}
                </CustomText>
              </View>
            </View>

            {/* Right: Check Icon */}
            {selectedValue === item.id && (
              <Icon name="check-circle" size={24} color={theme.mainColor} />
            )}
          </TouchableOpacity>
        ))}
      </Animated.View>
    </View>
  );
};
```

#### 3ï¸âƒ£ ë©”ì¸ ì»´í¬ë„ŒíŠ¸ í†µí•©

```javascript
const EffectSelectionPanel = ({ 
  visible,
  onClose,
  textAnimation,
  particleEffect,
  bgMusic,
  onChangeTextAnimation,
  onChangeParticleEffect,
  onChangeBgMusic,
}) => {
  const [openGroups, setOpenGroups] = useState({
    text_animation: true,  // ê¸°ë³¸ í¼ì¹¨
    particle_effect: false,
    bg_music: false,
  });

  const handleToggleGroup = (groupId) => {
    setOpenGroups(prev => ({
      ...prev,
      [groupId]: !prev[groupId],
    }));
  };

  return (
    <CustomBottomSheet
      ref={bottomSheetRef}
      title="íš¨ê³¼ ì„ íƒ"
      subtitle="ì›í•˜ëŠ” íš¨ê³¼ë¥¼ ì„ íƒí•˜ì„¸ìš”"
      onClose={onClose}
      snapPoints={['75%', '95%']}
    >
      <View style={styles.panelContent}>
        {EFFECT_GROUPS.map((group) => (
          <EffectAccordionGroup
            key={group.id}
            group={group}
            isOpen={openGroups[group.id]}
            onToggle={() => handleToggleGroup(group.id)}
            selectedValue={
              group.id === 'text_animation' ? textAnimation :
              group.id === 'particle_effect' ? particleEffect :
              bgMusic
            }
            onSelect={(value) => {
              if (group.id === 'text_animation') {
                onChangeTextAnimation(value);
              } else if (group.id === 'particle_effect') {
                onChangeParticleEffect(value);
              } else {
                onChangeBgMusic(value);
              }
            }}
          />
        ))}
      </View>
    </CustomBottomSheet>
  );
};
```

---

## âœ¨ ì‹ ê·œ í…ìŠ¤íŠ¸ íš¨ê³¼ 10ì¢…

### ì¹´í…Œê³ ë¦¬ë³„ ë¶„ë¥˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ê¸°ì¡´ íš¨ê³¼ (4ì¢…) - ê²€ì¦ ì™„ë£Œ             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’« Fade In      - ë¶€ë“œëŸ½ê²Œ             â”‚
â”‚  âŒ¨ï¸ Typing       - íƒ€ì´í•‘              â”‚
â”‚  ğŸ“ Scale In     - í¬ê²Œ ë“±ì¥            â”‚
â”‚  â†”ï¸ Slide Cross  - ì¢Œìš° ìŠ¬ë¼ì´ë“œ        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì‹ ê·œ íš¨ê³¼ (10ì¢…) - ì¶”ê°€ ì œì•ˆ            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸŒŠ Wave         - ë¬¼ê²°                 â”‚
â”‚  ğŸ’“ Breath       - í˜¸í¡                 â”‚
â”‚  âœ‚ï¸ Split        - ë¶„í•  ë“±ì¥            â”‚
â”‚  ğŸŒ«ï¸ Blur Focus   - ë¸”ëŸ¬ â†’ í¬ì»¤ìŠ¤       â”‚
â”‚  âœ¨ Glow Pulse   - ê¸€ë¡œìš° í„ìŠ¤          â”‚
â”‚  ğŸ”¤ Letter Drop  - ê¸€ì ë–¨ì–´ì§          â”‚
â”‚  ğŸŒ€ Rotate In    - íšŒì „ ë“±ì¥            â”‚
â”‚  ğŸ“Š Stagger      - ìˆœì°¨ ë“±ì¥            â”‚
â”‚  ğŸ­ Flip         - ì¹´ë“œ ë’¤ì§‘ê¸°          â”‚
â”‚  ğŸŒˆ Rainbow      - ë¬´ì§€ê°œ ìƒ‰ìƒ          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 1ï¸âƒ£ wave - ë¬¼ê²° í…ìŠ¤íŠ¸ â­â­â­

**ì„¤ëª…**: ê° ê¸€ìê°€ ë¬¼ê²°ì¹˜ë“¯ ìœ„ì•„ë˜ë¡œ ì›€ì§ì„

**ê°ì •**: ê²½ì¾Œí•¨, ì¦ê±°ì›€, ë¦¬ë“¬ê°

**êµ¬í˜„ ë°©ë²•**:
```javascript
// Mobile: react-native-reanimated
const WaveText = ({ text }) => {
  return text.split('').map((char, index) => {
    const translateY = useSharedValue(0);
    
    useEffect(() => {
      translateY.value = withRepeat(
        withSequence(
          withDelay(
            index * 50, // ê° ê¸€ìë§ˆë‹¤ 50ms ì§€ì—°
            withTiming(-10, { duration: 400, easing: Easing.inOut(Easing.ease) })
          ),
          withTiming(0, { duration: 400, easing: Easing.inOut(Easing.ease) })
        ),
        -1, // ë¬´í•œ ë°˜ë³µ
        false
      );
    }, []);
    
    const animatedStyle = useAnimatedStyle(() => ({
      transform: [{ translateY: translateY.value }],
    }));
    
    return (
      <Animated.Text key={index} style={animatedStyle}>
        {char}
      </Animated.Text>
    );
  });
};

// Web: framer-motion
const WaveText = ({ text }) => {
  return text.split('').map((char, index) => (
    <motion.span
      key={index}
      animate={{
        y: [0, -10, 0],
      }}
      transition={{
        duration: 0.8,
        delay: index * 0.05,
        repeat: Infinity,
        ease: 'easeInOut',
      }}
    >
      {char}
    </motion.span>
  ));
};
```

**ì¶”ì²œ ì‚¬ìš©ì²˜**:
- ìƒì¼ ì¶•í•˜ ë©”ì‹œì§€
- ì¶•í•˜/ì‘ì› ë©”ì‹œì§€
- ê²½ì¾Œí•œ ë¶„ìœ„ê¸°

---

### 2ï¸âƒ£ breath - í˜¸í¡ ì• ë‹ˆë©”ì´ì…˜ â­â­â­

**ì„¤ëª…**: í…ìŠ¤íŠ¸ ì „ì²´ê°€ ìˆ¨ì‰¬ë“¯ í¬ê¸° ë³€í™”

**ê°ì •**: í¸ì•ˆí•¨, ìƒëª…ê°, ë”°ëœ»í•¨

**êµ¬í˜„ ë°©ë²•**:
```javascript
// Mobile: react-native-reanimated
const BreathText = ({ children }) => {
  const scale = useSharedValue(1);
  
  useEffect(() => {
    scale.value = withRepeat(
      withSequence(
        withTiming(1.03, { duration: 2000, easing: Easing.inOut(Easing.ease) }),
        withTiming(1, { duration: 2000, easing: Easing.inOut(Easing.ease) })
      ),
      -1,
      false
    );
  }, []);
  
  const animatedStyle = useAnimatedStyle(() => ({
    transform: [{ scale: scale.value }],
  }));
  
  return (
    <Animated.Text style={animatedStyle}>
      {children}
    </Animated.Text>
  );
};

// Web: framer-motion
const BreathText = ({ children }) => (
  <motion.div
    animate={{
      scale: [1, 1.03, 1],
    }}
    transition={{
      duration: 4,
      repeat: Infinity,
      ease: 'easeInOut',
    }}
  >
    {children}
  </motion.div>
);
```

**ì¶”ì²œ ì‚¬ìš©ì²˜**:
- ìœ„ë¡œ ë©”ì‹œì§€
- ëª…ìƒ/íë§ ë©”ì‹œì§€
- ë”°ëœ»í•œ ë©”ì‹œì§€

**ANIMA ì² í•™ ì™„ë²½ ë¶€í•©**: "ìˆ¨ì‰¬ëŠ” AI" ğŸ’™

---

### 3ï¸âƒ£ split - ë¶„í•  ë“±ì¥ â­â­

**ì„¤ëª…**: ì œëª©ì´ ì¤‘ì•™ì—ì„œ ì¢Œìš°ë¡œ ë¶„í• ë˜ë©° ë“±ì¥

**ê°ì •**: ë“œë¼ë§ˆí‹±, ì„íŒ©íŠ¸

**êµ¬í˜„ ë°©ë²•**:
```javascript
// Mobile: react-native-reanimated
const SplitText = ({ text }) => {
  const midPoint = Math.floor(text.length / 2);
  const leftPart = text.substring(0, midPoint);
  const rightPart = text.substring(midPoint);
  
  const leftX = useSharedValue(-100);
  const rightX = useSharedValue(100);
  const opacity = useSharedValue(0);
  
  useEffect(() => {
    leftX.value = withTiming(0, { duration: 600, easing: Easing.out(Easing.ease) });
    rightX.value = withTiming(0, { duration: 600, easing: Easing.out(Easing.ease) });
    opacity.value = withTiming(1, { duration: 600 });
  }, []);
  
  const leftStyle = useAnimatedStyle(() => ({
    transform: [{ translateX: leftX.value }],
    opacity: opacity.value,
  }));
  
  const rightStyle = useAnimatedStyle(() => ({
    transform: [{ translateX: rightX.value }],
    opacity: opacity.value,
  }));
  
  return (
    <View style={{ flexDirection: 'row' }}>
      <Animated.Text style={leftStyle}>{leftPart}</Animated.Text>
      <Animated.Text style={rightStyle}>{rightPart}</Animated.Text>
    </View>
  );
};

// Web: framer-motion
const SplitText = ({ text }) => {
  const midPoint = Math.floor(text.length / 2);
  const leftPart = text.substring(0, midPoint);
  const rightPart = text.substring(midPoint);
  
  return (
    <div style={{ display: 'flex' }}>
      <motion.span
        initial={{ x: -100, opacity: 0 }}
        animate={{ x: 0, opacity: 1 }}
        transition={{ duration: 0.6, ease: 'easeOut' }}
      >
        {leftPart}
      </motion.span>
      <motion.span
        initial={{ x: 100, opacity: 0 }}
        animate={{ x: 0, opacity: 1 }}
        transition={{ duration: 0.6, ease: 'easeOut' }}
      >
        {rightPart}
      </motion.span>
    </div>
  );
};
```

**ì¶”ì²œ ì‚¬ìš©ì²˜**:
- ì¤‘ìš”í•œ ë°œí‘œ
- ë“œë¼ë§ˆí‹±í•œ ë©”ì‹œì§€
- ì„íŒ©íŠ¸ í•„ìš”

---

### 4ï¸âƒ£ blur_focus - ë¸”ëŸ¬ â†’ í¬ì»¤ìŠ¤ â­â­â­

**ì„¤ëª…**: í…ìŠ¤íŠ¸ê°€ íë¦¿í•˜ê²Œ ì‹œì‘í•´ì„œ ì„ ëª…í•´ì§

**ê°ì •**: ê¹¨ë‹¬ìŒ, ëª…í™•í•´ì§, ì§‘ì¤‘

**êµ¬í˜„ ë°©ë²•**:
```javascript
// Mobile: react-native-reanimated (iOSë§Œ ì§€ì›)
// AndroidëŠ” blur ì§€ì› ì œí•œì  â†’ fade_inìœ¼ë¡œ fallback

const BlurFocusText = ({ children }) => {
  const opacity = useSharedValue(0);
  
  useEffect(() => {
    opacity.value = withTiming(1, { duration: 1000 });
  }, []);
  
  const animatedStyle = useAnimatedStyle(() => ({
    opacity: opacity.value,
  }));
  
  // iOS: BlurView í™œìš© ê°€ëŠ¥
  // Android: ë‹¨ìˆœ fade_in
  return Platform.OS === 'ios' ? (
    <BlurView blurType="light" blurAmount={10}>
      <Animated.Text style={animatedStyle}>
        {children}
      </Animated.Text>
    </BlurView>
  ) : (
    <Animated.Text style={animatedStyle}>
      {children}
    </Animated.Text>
  );
};

// Web: CSS filter
const BlurFocusText = ({ children }) => (
  <motion.div
    initial={{ filter: 'blur(10px)', opacity: 0 }}
    animate={{ filter: 'blur(0px)', opacity: 1 }}
    transition={{ duration: 1, ease: 'easeOut' }}
  >
    {children}
  </motion.div>
);
```

**ì¶”ì²œ ì‚¬ìš©ì²˜**:
- ê¹¨ë‹¬ìŒ ë©”ì‹œì§€
- ì§‘ì¤‘ì´ í•„ìš”í•œ ë‚´ìš©
- ëª…í™•í•œ ë©”ì‹œì§€

**ì£¼ì˜**: AndroidëŠ” blur ì œí•œ â†’ fade_inìœ¼ë¡œ fallback

---

### 5ï¸âƒ£ glow_pulse - ê¸€ë¡œìš° í„ìŠ¤ â­â­

**ì„¤ëª…**: í…ìŠ¤íŠ¸ ì£¼ë³€ì— ë¹›ë‚˜ëŠ” íš¨ê³¼ê°€ í„ìŠ¤

**ê°ì •**: ì‹ ì„±í•¨, íŠ¹ë³„í•¨, ê°•ì¡°

**êµ¬í˜„ ë°©ë²•**:
```javascript
// Mobile: react-native-reanimated + shadow
const GlowPulseText = ({ children }) => {
  const shadowOpacity = useSharedValue(0.3);
  
  useEffect(() => {
    shadowOpacity.value = withRepeat(
      withSequence(
        withTiming(0.8, { duration: 1000 }),
        withTiming(0.3, { duration: 1000 })
      ),
      -1,
      false
    );
  }, []);
  
  const animatedStyle = useAnimatedStyle(() => ({
    textShadowColor: '#4FACFE',
    textShadowOffset: { width: 0, height: 0 },
    textShadowRadius: 20,
    textShadowOpacity: shadowOpacity.value,
  }));
  
  return (
    <Animated.Text style={animatedStyle}>
      {children}
    </Animated.Text>
  );
};

// Web: CSS text-shadow
const GlowPulseText = ({ children }) => (
  <motion.div
    animate={{
      textShadow: [
        '0 0 10px rgba(79, 172, 254, 0.3)',
        '0 0 30px rgba(79, 172, 254, 0.8)',
        '0 0 10px rgba(79, 172, 254, 0.3)',
      ],
    }}
    transition={{
      duration: 2,
      repeat: Infinity,
      ease: 'easeInOut',
    }}
  >
    {children}
  </motion.div>
);
```

**ì¶”ì²œ ì‚¬ìš©ì²˜**:
- ì¤‘ìš”í•œ ë©”ì‹œì§€
- ì‹ ì„±í•œ ëŠë‚Œ
- íŠ¹ë³„í•œ ìˆœê°„

---

### 6ï¸âƒ£ letter_drop - ê¸€ì ë–¨ì–´ì§ â­â­

**ì„¤ëª…**: ê° ê¸€ìê°€ ìœ„ì—ì„œ ë–¨ì–´ì§€ë©° ë“±ì¥

**ê°ì •**: ê²½ì¾Œí•¨, ë†€ë¼ì›€

**êµ¬í˜„ ë°©ë²•**:
```javascript
// Mobile: react-native-reanimated
const LetterDropText = ({ text }) => {
  return text.split('').map((char, index) => {
    const translateY = useSharedValue(-50);
    const opacity = useSharedValue(0);
    
    useEffect(() => {
      translateY.value = withDelay(
        index * 30,
        withSpring(0, { damping: 15, stiffness: 200 })
      );
      opacity.value = withDelay(
        index * 30,
        withTiming(1, { duration: 300 })
      );
    }, []);
    
    const animatedStyle = useAnimatedStyle(() => ({
      transform: [{ translateY: translateY.value }],
      opacity: opacity.value,
    }));
    
    return (
      <Animated.Text key={index} style={animatedStyle}>
        {char}
      </Animated.Text>
    );
  });
};

// Web: framer-motion
const LetterDropText = ({ text }) => (
  <>
    {text.split('').map((char, index) => (
      <motion.span
        key={index}
        initial={{ y: -50, opacity: 0 }}
        animate={{ y: 0, opacity: 1 }}
        transition={{
          delay: index * 0.03,
          type: 'spring',
          damping: 15,
          stiffness: 200,
        }}
      >
        {char}
      </motion.span>
    ))}
  </>
);
```

**ì¶”ì²œ ì‚¬ìš©ì²˜**:
- ë°œí‘œ ë©”ì‹œì§€
- ë†€ë¼ìš´ ì†Œì‹
- ê²½ì¾Œí•œ ë¶„ìœ„ê¸°

---

### 7ï¸âƒ£ rotate_in - íšŒì „ ë“±ì¥ â­

**ì„¤ëª…**: í…ìŠ¤íŠ¸ê°€ íšŒì „í•˜ë©° ë“±ì¥

**ê°ì •**: ì—­ë™ì , ì—ë„ˆì§€

**êµ¬í˜„ ë°©ë²•**:
```javascript
// Mobile: react-native-reanimated
const RotateInText = ({ children }) => {
  const rotate = useSharedValue(-90);
  const opacity = useSharedValue(0);
  
  useEffect(() => {
    rotate.value = withSpring(0, { damping: 20, stiffness: 200 });
    opacity.value = withTiming(1, { duration: 600 });
  }, []);
  
  const animatedStyle = useAnimatedStyle(() => ({
    transform: [{ rotate: `${rotate.value}deg` }],
    opacity: opacity.value,
  }));
  
  return (
    <Animated.Text style={animatedStyle}>
      {children}
    </Animated.Text>
  );
};

// Web: framer-motion
const RotateInText = ({ children }) => (
  <motion.div
    initial={{ rotate: -90, opacity: 0 }}
    animate={{ rotate: 0, opacity: 1 }}
    transition={{
      type: 'spring',
      damping: 20,
      stiffness: 200,
    }}
  >
    {children}
  </motion.div>
);
```

**ì¶”ì²œ ì‚¬ìš©ì²˜**:
- ì—ë„ˆì§€ ë„˜ì¹˜ëŠ” ë©”ì‹œì§€
- ì—­ë™ì ì¸ ë¶„ìœ„ê¸°

---

### 8ï¸âƒ£ stagger - ìˆœì°¨ ë“±ì¥ â­â­

**ì„¤ëª…**: ë‹¨ì–´ë³„ë¡œ ìˆœì°¨ì ìœ¼ë¡œ ë“±ì¥

**ê°ì •**: ë¦¬ë“¬ê°, ì •ëˆë¨

**êµ¬í˜„ ë°©ë²•**:
```javascript
// Mobile: react-native-reanimated
const StaggerText = ({ text }) => {
  const words = text.split(' ');
  
  return words.map((word, index) => {
    const opacity = useSharedValue(0);
    const translateY = useSharedValue(20);
    
    useEffect(() => {
      opacity.value = withDelay(
        index * 150,
        withTiming(1, { duration: 400 })
      );
      translateY.value = withDelay(
        index * 150,
        withTiming(0, { duration: 400, easing: Easing.out(Easing.ease) })
      );
    }, []);
    
    const animatedStyle = useAnimatedStyle(() => ({
      opacity: opacity.value,
      transform: [{ translateY: translateY.value }],
    }));
    
    return (
      <Animated.Text key={index} style={animatedStyle}>
        {word}{' '}
      </Animated.Text>
    );
  });
};

// Web: framer-motion
const StaggerText = ({ text }) => {
  const words = text.split(' ');
  
  return (
    <>
      {words.map((word, index) => (
        <motion.span
          key={index}
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{
            delay: index * 0.15,
            duration: 0.4,
            ease: 'easeOut',
          }}
        >
          {word}{' '}
        </motion.span>
      ))}
    </>
  );
};
```

**ì¶”ì²œ ì‚¬ìš©ì²˜**:
- ê¸´ ë©”ì‹œì§€
- ì •ëˆëœ ëŠë‚Œ
- ë¦¬ë“¬ê° ìˆëŠ” ë©”ì‹œì§€

---

### 9ï¸âƒ£ flip - ì¹´ë“œ ë’¤ì§‘ê¸° â­

**ì„¤ëª…**: í…ìŠ¤íŠ¸ê°€ ì¹´ë“œì²˜ëŸ¼ ë’¤ì§‘íˆë©° ë“±ì¥

**ê°ì •**: ë†€ë¼ì›€, ë°˜ì „

**êµ¬í˜„ ë°©ë²•**:
```javascript
// Mobile: react-native-reanimated
const FlipText = ({ children }) => {
  const rotateY = useSharedValue(90);
  const opacity = useSharedValue(0);
  
  useEffect(() => {
    rotateY.value = withSpring(0, { damping: 20, stiffness: 200 });
    opacity.value = withTiming(1, { duration: 600 });
  }, []);
  
  const animatedStyle = useAnimatedStyle(() => ({
    transform: [
      { perspective: 1000 },
      { rotateY: `${rotateY.value}deg` }
    ],
    opacity: opacity.value,
  }));
  
  return (
    <Animated.Text style={animatedStyle}>
      {children}
    </Animated.Text>
  );
};

// Web: framer-motion
const FlipText = ({ children }) => (
  <motion.div
    initial={{ rotateY: 90, opacity: 0 }}
    animate={{ rotateY: 0, opacity: 1 }}
    transition={{
      type: 'spring',
      damping: 20,
      stiffness: 200,
    }}
    style={{ perspective: 1000 }}
  >
    {children}
  </motion.div>
);
```

**ì¶”ì²œ ì‚¬ìš©ì²˜**:
- ë°˜ì „ ë©”ì‹œì§€
- ì„œí”„ë¼ì´ì¦ˆ
- ë†€ë¼ìš´ ì†Œì‹

---

### ğŸ”Ÿ rainbow - ë¬´ì§€ê°œ ìƒ‰ìƒ â­

**ì„¤ëª…**: í…ìŠ¤íŠ¸ ìƒ‰ìƒì´ ë¬´ì§€ê°œì²˜ëŸ¼ ë³€í•¨

**ê°ì •**: í¬ë§, ë‹¤ì±„ë¡œì›€, ë°ìŒ

**êµ¬í˜„ ë°©ë²•**:
```javascript
// Mobile: react-native-reanimated
const RainbowText = ({ children }) => {
  const hue = useSharedValue(0);
  
  useEffect(() => {
    hue.value = withRepeat(
      withTiming(360, { duration: 5000 }),
      -1,
      false
    );
  }, []);
  
  const animatedStyle = useAnimatedStyle(() => {
    // HSL to RGB conversion needed
    const color = hslToRgb(hue.value, 70, 60);
    return { color };
  });
  
  return (
    <Animated.Text style={animatedStyle}>
      {children}
    </Animated.Text>
  );
};

// Web: CSS animation
const RainbowText = ({ children }) => (
  <motion.div
    animate={{
      backgroundImage: [
        'linear-gradient(90deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3)',
        'linear-gradient(180deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3)',
        'linear-gradient(270deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3)',
        'linear-gradient(360deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #9400d3)',
      ],
    }}
    transition={{
      duration: 5,
      repeat: Infinity,
      ease: 'linear',
    }}
    style={{
      WebkitBackgroundClip: 'text',
      WebkitTextFillColor: 'transparent',
      backgroundClip: 'text',
    }}
  >
    {children}
  </motion.div>
);
```

**ì¶”ì²œ ì‚¬ìš©ì²˜**:
- í¬ë§ ë©”ì‹œì§€
- ë‹¤ì–‘ì„± í‘œí˜„
- ë°ê³  ê¸ì •ì ì¸ ë©”ì‹œì§€

---

### ì¶”ê°€ 5ì¢… (ê°„ë‹¨ ì„¤ëª…)

**11. `bounce` - í†µí†µ íŠ€ê¹€**
- í…ìŠ¤íŠ¸ê°€ í†µí†µ íŠ€ë©° ë“±ì¥
- ê°ì •: í™œê¸°ì°¸, ê·€ì—¬ì›€

**12. `slide_up` - ì•„ë˜ì—ì„œ ìœ„ë¡œ**
- í…ìŠ¤íŠ¸ê°€ ì•„ë˜ì—ì„œ ì˜¬ë¼ì˜´
- ê°ì •: ìƒìŠ¹, í¬ë§

**13. `zoom_blur` - ì¤Œ ë¸”ëŸ¬**
- í…ìŠ¤íŠ¸ê°€ í™•ëŒ€ë˜ë©° ë¸”ëŸ¬ â†’ ì„ ëª…
- ê°ì •: ì§‘ì¤‘, ê°•ì¡°

**14. `shake` - í”ë“¤ë¦¼**
- í…ìŠ¤íŠ¸ê°€ ì¢Œìš°ë¡œ í”ë“¤ë¦¼
- ê°ì •: ê¸´ê¸‰, ì£¼ì˜

**15. `elastic` - íƒ„ì„±**
- í…ìŠ¤íŠ¸ê°€ íƒ„ì„±ìˆê²Œ ë“±ì¥
- ê°ì •: ê²½ì¾Œí•¨, ì¬ë¯¸

---

## ğŸŒ í¬ë¡œìŠ¤ í”Œë«í¼ ë™ê¸°í™”

### í˜„ì¬ ë™ê¸°í™” ë°©ì‹

```javascript
// âœ… ì´ë¯¸ ì™„ë²½í•˜ê²Œ ë™ê¸°í™”ë¨!

// Mobile: AnimaMobile/src/components/message/MessagePreviewOverlay.js
const TEXT_ANIMATIONS = [
  { id: 'fade_in', label: 'Fade In', icon: 'fade' },
  { id: 'typing', label: 'Typing', icon: 'keyboard' },
  { id: 'scale_in', label: 'Scale In', icon: 'arrow-expand' },
  { id: 'slide_cross', label: 'Slide Cross', icon: 'arrow-split-horizontal' },
];

// Web: idol-companion/app/m/.../MessageViewClient.js
const titleVariants = {
  fade_in: {
    initial: { opacity: 0, y: 20 },
    animate: { opacity: 1, y: 0 },
    transition: { duration: 0.5 }
  },
  typing: { /* ... */ },
  scale_in: { /* ... */ },
  slide_cross: { /* ... */ },
};

// íƒ€ì´ë° ë™ì¼: 500ms, 15ms/char, 600ms, 700ms âœ…
```

### ì‹ ê·œ íš¨ê³¼ ë™ê¸°í™” ì „ëµ

#### ë°©ë²• 1: ê³µí†µ ìƒìˆ˜ íŒŒì¼ (ê¶Œì¥!)

```javascript
// /shared/effect-constants.js (ê³µí†µ íŒŒì¼)
export const TEXT_ANIMATION_CONFIG = {
  fade_in: {
    id: 'fade_in',
    label: 'Fade In',
    emoji: 'ğŸ’«',
    description: 'ë¶€ë“œëŸ½ê²Œ ë‚˜íƒ€ë‚¨',
    mood: 'gentle',
    // Mobile config
    mobile: {
      duration: 500,
      easing: 'ease',
    },
    // Web config
    web: {
      duration: 0.5,
      ease: 'easeOut',
    },
  },
  wave: {
    id: 'wave',
    label: 'Wave',
    emoji: 'ğŸŒŠ',
    description: 'ë¬¼ê²°ì¹˜ë“¯ ì›€ì§ì„',
    mood: 'playful',
    mobile: {
      duration: 800,
      delay: 50, // per character
    },
    web: {
      duration: 0.8,
      delay: 0.05,
    },
  },
  // ... ëª¨ë“  íš¨ê³¼
};
```

#### ë°©ë²• 2: ë™ê¸°í™” ì²´í¬ ìŠ¤í¬ë¦½íŠ¸

```javascript
// /scripts/check-effect-sync.js
const mobileEffects = require('../AnimaMobile/src/constants/effects');
const webEffects = require('../idol-companion/constants/effects');

// íš¨ê³¼ ID ë¹„êµ
const mobileIds = mobileEffects.TEXT_ANIMATIONS.map(e => e.id);
const webIds = Object.keys(webEffects.titleVariants);

const missing = mobileIds.filter(id => !webIds.includes(id));
if (missing.length > 0) {
  console.error('âŒ Missing effects in Web:', missing);
  process.exit(1);
}

console.log('âœ… All effects synchronized!');
```

---

## ğŸ¬ ë‹¨ê³„ë³„ êµ¬í˜„ ë¡œë“œë§µ

### Phase 1: ì•„ì½”ë””ì–¸ UI êµ¬í˜„ (Week 1-2)

**ëª©í‘œ**: íš¨ê³¼ ì„ íƒ UI ê³ ë„í™”

#### Step 1: ê³µí†µ ì»´í¬ë„ŒíŠ¸ ìƒì„±

**íŒŒì¼**: `/AnimaMobile/src/components/EffectAccordionGroup.js`

```javascript
/**
 * ğŸ¨ EffectAccordionGroup Component
 * 
 * Accordion group for effect selection
 * 
 * Features:
 * - Expand/Collapse animation
 * - Group header with emoji + title
 * - Effect options with preview
 * - Selected state indicator
 */
import React, { useEffect } from 'react';
import { View, TouchableOpacity, StyleSheet } from 'react-native';
import Animated, {
  useSharedValue,
  useAnimatedStyle,
  withTiming,
} from 'react-native-reanimated';
import Icon from 'react-native-vector-icons/MaterialCommunityIcons';
import CustomText from './CustomText';
import { scale, platformPadding } from '../utils/responsive-utils';
import { useTheme } from '../contexts/ThemeContext';
import HapticService from '../utils/HapticService';

const EffectAccordionGroup = ({ 
  group, 
  isOpen, 
  onToggle, 
  selectedValue,
  onSelect,
}) => {
  const { currentTheme: theme } = useTheme();
  
  // Animation values
  const rotateAnim = useSharedValue(isOpen ? 180 : 0);
  const heightAnim = useSharedValue(isOpen ? 1 : 0);

  useEffect(() => {
    rotateAnim.value = withTiming(isOpen ? 180 : 0, { duration: 300 });
    heightAnim.value = withTiming(isOpen ? 1 : 0, { duration: 300 });
  }, [isOpen]);

  const chevronStyle = useAnimatedStyle(() => ({
    transform: [{ rotate: `${rotateAnim.value}deg` }],
  }));

  const contentStyle = useAnimatedStyle(() => ({
    opacity: heightAnim.value,
    maxHeight: heightAnim.value * 1000,
    overflow: 'hidden',
  }));

  return (
    <View style={styles.container}>
      {/* Header */}
      <TouchableOpacity
        style={[styles.header, { backgroundColor: theme.cardBackground }]}
        onPress={() => {
          HapticService.light();
          onToggle();
        }}
        activeOpacity={0.7}
      >
        <View style={styles.headerLeft}>
          <CustomText type="big" style={styles.emoji}>
            {group.emoji}
          </CustomText>
          <View>
            <CustomText type="normal" bold style={{ color: theme.textPrimary }}>
              {group.title}
            </CustomText>
            <CustomText type="small" style={{ color: theme.textSecondary }}>
              {group.description}
            </CustomText>
          </View>
        </View>
        <Animated.View style={chevronStyle}>
          <Icon name="chevron-down" size={24} color={theme.textTertiary} />
        </Animated.View>
      </TouchableOpacity>

      {/* Content */}
      {isOpen && (
        <Animated.View style={[styles.content, contentStyle]}>
          {group.items.map((item) => (
            <TouchableOpacity
              key={item.id}
              style={[
                styles.option,
                { backgroundColor: theme.bgSecondary },
                selectedValue === item.id && styles.optionSelected,
                selectedValue === item.id && { borderColor: theme.mainColor },
              ]}
              onPress={() => {
                HapticService.success();
                onSelect(item.id);
              }}
              activeOpacity={0.7}
            >
              {/* Left: Emoji + Info */}
              <View style={styles.optionLeft}>
                <CustomText type="big" style={styles.optionEmoji}>
                  {item.emoji}
                </CustomText>
                <View style={styles.optionInfo}>
                  <CustomText type="normal" bold style={{ color: theme.textPrimary }}>
                    {item.label}
                  </CustomText>
                  <CustomText type="small" style={{ color: theme.textSecondary }}>
                    {item.description}
                  </CustomText>
                </View>
              </View>

              {/* Right: Check Icon */}
              {selectedValue === item.id && (
                <Icon name="check-circle" size={24} color={theme.mainColor} />
              )}
            </TouchableOpacity>
          ))}
        </Animated.View>
      )}
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    marginBottom: scale(12),
  },
  header: {
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'space-between',
    padding: platformPadding(16),
    borderRadius: scale(12),
  },
  headerLeft: {
    flexDirection: 'row',
    alignItems: 'center',
    gap: scale(12),
    flex: 1,
  },
  emoji: {
    fontSize: scale(32),
  },
  content: {
    marginTop: scale(8),
    gap: scale(8),
  },
  option: {
    flexDirection: 'row',
    alignItems: 'center',
    justifyContent: 'space-between',
    padding: platformPadding(16),
    borderRadius: scale(12),
    borderWidth: 2,
    borderColor: 'transparent',
  },
  optionSelected: {
    shadowColor: '#4FACFE',
    shadowOffset: { width: 0, height: 4 },
    shadowOpacity: 0.3,
    shadowRadius: 8,
    elevation: 8,
  },
  optionLeft: {
    flexDirection: 'row',
    alignItems: 'center',
    gap: scale(12),
    flex: 1,
  },
  optionEmoji: {
    fontSize: scale(28),
  },
  optionInfo: {
    flex: 1,
  },
});

export default EffectAccordionGroup;
```

#### Step 2: MessagePreviewOverlay í†µí•©

**ë³€ê²½ì‚¬í•­**:
```javascript
// Before: ë‹¨ìˆœ ë¦¬ìŠ¤íŠ¸
<ScrollView>
  {TEXT_ANIMATIONS.map(option => (
    <EffectOption key={option.id} {...option} />
  ))}
</ScrollView>

// After: ì•„ì½”ë””ì–¸
<ScrollView>
  {EFFECT_GROUPS.map(group => (
    <EffectAccordionGroup
      key={group.id}
      group={group}
      isOpen={openGroups[group.id]}
      onToggle={() => handleToggleGroup(group.id)}
      selectedValue={getCurrentValue(group.id)}
      onSelect={(value) => handleSelect(group.id, value)}
    />
  ))}
</ScrollView>
```

#### Step 3: Web ë²„ì „ êµ¬í˜„

**íŒŒì¼**: `/idol-companion/components/EffectAccordion.js`

```javascript
'use client';

import React, { useState } from 'react';
import { motion, AnimatePresence } from 'framer-motion';

const EffectAccordionGroup = ({ 
  group, 
  isOpen, 
  onToggle, 
  selectedValue,
  onSelect,
}) => {
  return (
    <div className="accordion-group">
      {/* Header */}
      <button
        className="accordion-header"
        onClick={onToggle}
      >
        <div className="accordion-header-left">
          <span className="accordion-emoji">{group.emoji}</span>
          <div>
            <h3 className="accordion-title">{group.title}</h3>
            <p className="accordion-description">{group.description}</p>
          </div>
        </div>
        <motion.div
          animate={{ rotate: isOpen ? 180 : 0 }}
          transition={{ duration: 0.3 }}
        >
          â–¼
        </motion.div>
      </button>

      {/* Content */}
      <AnimatePresence>
        {isOpen && (
          <motion.div
            initial={{ opacity: 0, height: 0 }}
            animate={{ opacity: 1, height: 'auto' }}
            exit={{ opacity: 0, height: 0 }}
            transition={{ duration: 0.3 }}
            className="accordion-content"
          >
            {group.items.map((item) => (
              <button
                key={item.id}
                className={`effect-option ${selectedValue === item.id ? 'selected' : ''}`}
                onClick={() => onSelect(item.id)}
              >
                <div className="effect-option-left">
                  <span className="effect-emoji">{item.emoji}</span>
                  <div>
                    <h4>{item.label}</h4>
                    <p>{item.description}</p>
                  </div>
                </div>
                {selectedValue === item.id && (
                  <span className="check-icon">âœ“</span>
                )}
              </button>
            ))}
          </motion.div>
        )}
      </AnimatePresence>

      <style jsx>{`
        .accordion-group {
          margin-bottom: 12px;
        }
        
        .accordion-header {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 16px;
          background: rgba(255, 255, 255, 0.05);
          border-radius: 12px;
          border: none;
          width: 100%;
          cursor: pointer;
          transition: all 0.3s;
        }
        
        .accordion-header:hover {
          background: rgba(255, 255, 255, 0.08);
        }
        
        .accordion-header-left {
          display: flex;
          align-items: center;
          gap: 12px;
        }
        
        .accordion-emoji {
          font-size: 32px;
        }
        
        .accordion-title {
          color: #fff;
          font-size: 16px;
          font-weight: 700;
          margin: 0 0 4px 0;
        }
        
        .accordion-description {
          color: rgba(255, 255, 255, 0.6);
          font-size: 13px;
          margin: 0;
        }
        
        .accordion-content {
          margin-top: 8px;
          display: flex;
          flex-direction: column;
          gap: 8px;
        }
        
        .effect-option {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 16px;
          background: rgba(0, 0, 0, 0.3);
          border-radius: 12px;
          border: 2px solid transparent;
          cursor: pointer;
          transition: all 0.3s;
        }
        
        .effect-option:hover {
          background: rgba(255, 255, 255, 0.05);
        }
        
        .effect-option.selected {
          border-color: #4FACFE;
          box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
        }
        
        .effect-option-left {
          display: flex;
          align-items: center;
          gap: 12px;
        }
        
        .effect-emoji {
          font-size: 28px;
        }
        
        .check-icon {
          color: #4FACFE;
          font-size: 24px;
        }
      `}</style>
    </div>
  );
};
```

---

## âš ï¸ ìœ„í—˜ ìš”ì†Œ & ì™„í™” ì „ëµ

### 1. ê¸°ì¡´ ë¡œì§ ì†ìƒ

**ìœ„í—˜**:
- MessagePreviewOverlay ìˆ˜ì • ì¤‘ ê¸°ì¡´ ê¸°ëŠ¥ ì†ìƒ

**ì™„í™”**:
- âœ… ë³„ë„ ë¸Œëœì¹˜ì—ì„œ ì‘ì—…
- âœ… ê¸°ì¡´ ì½”ë“œ ë°±ì—…
- âœ… ë‹¨ê³„ì  í…ŒìŠ¤íŠ¸
- âœ… ë¡¤ë°± ê³„íš ìˆ˜ë¦½

### 2. Mobile & Web ë¶ˆì¼ì¹˜

**ìœ„í—˜**:
- ì‹ ê·œ íš¨ê³¼ê°€ ì–‘ìª½ì—ì„œ ë‹¤ë¥´ê²Œ ë³´ì„

**ì™„í™”**:
- âœ… ê³µí†µ ìƒìˆ˜ íŒŒì¼ ì‚¬ìš©
- âœ… ë™ê¸°í™” ì²´í¬ ìŠ¤í¬ë¦½íŠ¸
- âœ… ì‹œê°ì  ë¹„êµ í…ŒìŠ¤íŠ¸
- âœ… ë™ì˜ìƒ ë…¹í™”í•˜ì—¬ ë¹„êµ

### 3. ì„±ëŠ¥ ì €í•˜

**ìœ„í—˜**:
- íš¨ê³¼ ì¦ê°€ë¡œ ì¸í•œ ì„±ëŠ¥ ì €í•˜

**ì™„í™”**:
- âœ… React.memo í™œìš©
- âœ… íš¨ê³¼ë³„ lazy loading
- âœ… 60fps ìœ ì§€ í™•ì¸
- âœ… ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¸¡ì •

---

## ğŸ¯ ìš°ì„ ìˆœìœ„ & ì¶”ì²œ

### ğŸ¥‡ ìµœìš°ì„  (Week 1-2)

**1. ì•„ì½”ë””ì–¸ UI êµ¬í˜„**
- ì´ìœ : ì¦‰ì‹œ UX ê°œì„ 
- ë‚œì´ë„: ì¤‘ê°„
- ì˜í–¥ë„: ë†’ìŒ

**2. `breath` í…ìŠ¤íŠ¸ íš¨ê³¼**
- ì´ìœ : ANIMA ì² í•™ ì™„ë²½ ë¶€í•©
- ë‚œì´ë„: ì‰¬ì›€
- ì˜í–¥ë„: ë†’ìŒ (ê°ì„±ì !)

**3. `wave` í…ìŠ¤íŠ¸ íš¨ê³¼**
- ì´ìœ : ê²½ì¾Œí•œ ë©”ì‹œì§€ì— ì™„ë²½
- ë‚œì´ë„: ì¤‘ê°„
- ì˜í–¥ë„: ì¤‘ê°„

---

### ğŸ¥ˆ 2ìˆœìœ„ (Week 3-4)

**4. `split` í…ìŠ¤íŠ¸ íš¨ê³¼**
- ë“œë¼ë§ˆí‹±í•œ íš¨ê³¼

**5. `stagger` í…ìŠ¤íŠ¸ íš¨ê³¼**
- ê¸´ ë©”ì‹œì§€ì— ì í•©

**6. ê³µí†µ ìƒìˆ˜ íŒŒì¼ êµ¬ì¶•**
- ë™ê¸°í™” ìë™í™”

---

### ğŸ¥‰ 3ìˆœìœ„ (Week 5-6)

**7-10. ë‚˜ë¨¸ì§€ í…ìŠ¤íŠ¸ íš¨ê³¼**
- `glow_pulse`, `letter_drop`, `rotate_in`, `rainbow`

**11. ë™ê¸°í™” ì²´í¬ ìŠ¤í¬ë¦½íŠ¸**
- CI/CD í†µí•©

---

## ğŸ“Š ì˜ˆìƒ íš¨ê³¼

### ì‚¬ìš©ì ê²½í—˜

**Before**:
- ğŸ˜ 12ê°œ ì˜µì…˜ í‰ë©´ ë‚˜ì—´
- ğŸ˜ ìŠ¤í¬ë¡¤ í•„ìš”
- ğŸ˜ ì„ íƒ ì–´ë ¤ì›€

**After**:
- ğŸ˜ 3ê°œ ê·¸ë£¹ (ì ‘ê³  í¼ì¹˜ê¸°)
- ğŸ˜ ì‹œê°ì  ê³„ì¸µ êµ¬ì¡°
- ğŸ˜ ë¹ ë¥¸ ì„ íƒ
- ğŸ˜ 10ì¢… ì‹ ê·œ íš¨ê³¼!

### ê¸°ìˆ ì  ì•ˆì •ì„±

- âœ… ê¸°ì¡´ ë¡œì§ 100% ìœ ì§€
- âœ… ì‹ ê·œ íš¨ê³¼ëŠ” ì¶”ê°€ë§Œ
- âœ… ë¡¤ë°± ê°€ëŠ¥
- âœ… ë‹¨ê³„ì  ê²€ì¦

### ê°ì„±ì  ì™„ì„±ë„

- ğŸ’™ ANIMA ì² í•™ ë°˜ì˜ (`breath`)
- ğŸ’™ ë‹¤ì–‘í•œ ê°ì • í‘œí˜„ (10ì¢…)
- ğŸ’™ ì•…ë§ˆì˜ ë””í…Œì¼ (ì•„ì½”ë””ì–¸)

---

## ğŸ™ íˆì–´ë¡œë‹˜ì˜ ê²°ì •ì´ í•„ìš”í•©ë‹ˆë‹¤!

### Q1: ì‹œì‘ ì‹œì 

**Option A: ì¦‰ì‹œ ì‹œì‘**
- ì•„ì½”ë””ì–¸ UIë¶€í„°

**Option B: MessageCreationScreen ì™„ë£Œ í›„**
- í˜„ì¬ ì‘ì—… ë§ˆë¬´ë¦¬ í›„

### Q2: í…ìŠ¤íŠ¸ íš¨ê³¼ ìš°ì„ ìˆœìœ„

**Option A: 3ê°œë§Œ (ë¹ ë¥´ê²Œ)**
- `breath`, `wave`, `split`

**Option B: 5ê°œ (ê· í˜•)**
- ìœ„ 3ê°œ + `stagger`, `glow_pulse`

**Option C: 10ê°œ ì „ì²´ (ì™„ë²½í•˜ê²Œ)**
- ëª¨ë“  íš¨ê³¼

### Q3: êµ¬í˜„ ë°©ì‹

**Option A: ìˆœìˆ˜ ì½”ë“œ** (í˜„ì¬ ë°©ì‹)
- Reanimated + Framer Motion
- ìˆ˜ë™ ë™ê¸°í™”

**Option B: Lottie ë³‘í–‰**
- ë³µì¡í•œ íš¨ê³¼ëŠ” Lottie
- ê°„ë‹¨í•œ íš¨ê³¼ëŠ” ì½”ë“œ

---

**ì‘ì„±**: Hero Nexus  
**ì¼ì**: 2025-12-08  
**ë²„ì „**: 1.0.0  
**ìƒíƒœ**: Awaiting Decision

> **"ê¸°ì¡´ ë¡œì§ ì•ˆì „ì„± + ì•„ì½”ë””ì–¸ UI + ì‹ ê·œ í…ìŠ¤íŠ¸ íš¨ê³¼"**  
> â€” ANIMA Effect Enhancement Strategy ğŸ’™

